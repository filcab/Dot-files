#!/usr/bin/env python

import subprocess
import sys

from pathlib import Path, PureWindowsPath

if sys.platform == "linux":
    # assumes wsl's automount config has "root = /", to match msys
    CMD = Path("/c/windows/System32/cmd.exe")
else:
    CMD = Path("C:/Windows/System32/cmd.exe")

BASH_CMD = [PureWindowsPath("C:/Program Files/Git/bin/bash.exe"), "--login", "-i"]
# don't use execlp as it doesn't gain us much and will end up with two processes
# fighting for terminal control if run from git-bash
subprocess.run([CMD, '/C'] + BASH_CMD)
